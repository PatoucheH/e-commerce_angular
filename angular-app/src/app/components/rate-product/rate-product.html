
@if(isVisible) {
<!-- Mini-modal -->
<div
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
>
  <div class="bg-white rounded-lg shadow-xl p-6 w-80 relative">
    <button
      (click)="close()"
      class="absolute top-2 right-2 text-gray-500 hover:text-gray-800 font-bold"
    >
      ✖
    </button>
    <h3 class="text-xl font-bold mb-4">Noter {{ product?.name }}</h3>

    <label class="font-semibold">Votre note (1 à 5) :</label>
    <input
      type="number"
      min="1"
      max="5"
      [(ngModel)]="ratingValue"
      class="border rounded px-2 py-1 w-full mb-2"
    />

    <label class="font-semibold">Commentaire :</label>
    <textarea
      [(ngModel)]="ratingComment"
      class="border rounded px-2 py-1 w-full mb-2"
      rows="3"
    ></textarea>

    <button
      (click)="submitRating()"
      [disabled]="ratingValue < 1 || ratingValue > 5"
      class="bg-green-600 text-white px-4 py-2 mt-2 rounded-md hover:bg-green-700 w-full disabled:bg-gray-300 disabled:cursor-not-allowed"
    >
      Envoyer
    </button>
  </div>
</div>
}
